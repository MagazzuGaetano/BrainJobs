{"ast":null,"code":"var _jsxFileName = \"/home/lfx/Downloads/BrainJobs/frontend/src/pages/jobs/JobsPage.js\";\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport JobsList from '../../components/Job/JobsList/JobsList';\nimport Notification from '../../components/Notification/Notification';\nimport Context from '../../context/Context';\n\nclass JobsPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      jobs: [],\n      error: null\n    };\n  }\n\n  componentWillMount() {\n    if (!this.context.token) return this.props.history.push('/login');\n    const options = {\n      headers: {\n        'Authorization': 'Bearer ' + this.context.token\n      }\n    };\n    fetch(this.context.API_URL + '/jobs', options).then(data => data.json()).then(data => {\n      if (!data.message) this.setState({\n        jobs: data\n      });else this.setState({\n        error: data.message\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    const _this$state = this.state,\n          jobs = _this$state.jobs,\n          error = _this$state.error;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      className: \"button is-inverted is-info\",\n      style: {\n        marginBottom: '15px'\n      },\n      to: \"/jobs/add\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Add Training Request\"), jobs && jobs.length > 0 && !error && React.createElement(JobsList, {\n      jobs: jobs,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), jobs && jobs.length <= 0 && React.createElement(\"div\", {\n      className: \"box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"No jobs yet\"), error && React.createElement(Notification, {\n      message: error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }));\n  }\n\n}\n\nJobsPage.contextType = Context;\nexport default JobsPage;","map":{"version":3,"sources":["/home/lfx/Downloads/BrainJobs/frontend/src/pages/jobs/JobsPage.js"],"names":["React","NavLink","JobsList","Notification","Context","JobsPage","Component","constructor","props","state","jobs","error","componentWillMount","context","token","history","push","options","headers","fetch","API_URL","then","data","json","message","setState","catch","err","console","log","render","marginBottom","length","contextType"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AAEA,OAAOC,QAAP,MAAqB,wCAArB;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AAEA,OAAOC,OAAP,MAAoB,uBAApB;;AAGA,MAAMC,QAAN,SAAuBL,KAAK,CAACM,SAA7B,CAAuC;AAIrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,KAAK,EAAE;AAFI,KAAb;AAID;;AAEDC,EAAAA,kBAAkB,GAAG;AACnB,QAAI,CAAC,KAAKC,OAAL,CAAaC,KAAlB,EAAyB,OAAO,KAAKN,KAAL,CAAWO,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,CAAP;AAEzB,UAAMC,OAAO,GAAG;AACdC,MAAAA,OAAO,EAAE;AACL,yBAAiB,YAAY,KAAKL,OAAL,CAAaC;AADrC;AADK,KAAhB;AAMAK,IAAAA,KAAK,CAAC,KAAKN,OAAL,CAAaO,OAAb,GAAuB,OAAxB,EAAiCH,OAAjC,CAAL,CACGI,IADH,CACQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADhB,EAEGF,IAFH,CAEQC,IAAI,IAAI;AACZ,UAAI,CAACA,IAAI,CAACE,OAAV,EACE,KAAKC,QAAL,CAAc;AAAEf,QAAAA,IAAI,EAAEY;AAAR,OAAd,EADF,KAGE,KAAKG,QAAL,CAAc;AAAEd,QAAAA,KAAK,EAAEW,IAAI,CAACE;AAAd,OAAd;AACH,KAPH,EAQGE,KARH,CAQSC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CARhB;AASD;;AAEDG,EAAAA,MAAM,GAAG;AAAA,wBACiB,KAAKrB,KADtB;AAAA,UACCC,IADD,eACCA,IADD;AAAA,UACOC,KADP,eACOA,KADP;AAEP,WACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AACE,MAAA,SAAS,EAAC,4BADZ;AAEE,MAAA,KAAK,EAAE;AAACoB,QAAAA,YAAY,EAAE;AAAf,OAFT;AAGE,MAAA,EAAE,EAAC,WAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAQGrB,IAAI,IAAIA,IAAI,CAACsB,MAAL,GAAc,CAAtB,IAA2B,CAACrB,KAA5B,IAAqC,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAED,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARxC,EAUGA,IAAI,IAAIA,IAAI,CAACsB,MAAL,IAAe,CAAvB,IAA4B;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAV/B,EAYGrB,KAAK,IAAI,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAEA,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZZ,CADF;AAgBD;;AAlDoC;;AAAjCN,Q,CAEG4B,W,GAAc7B,O;AAoDvB,eAAeC,QAAf","sourcesContent":["import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport JobsList from '../../components/Job/JobsList/JobsList'\nimport Notification from '../../components/Notification/Notification'\n\nimport Context from '../../context/Context'\n\n\nclass JobsPage extends React.Component {\n\n  static contextType = Context\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      jobs: [],\n      error: null\n    }\n  }\n\n  componentWillMount() {\n    if (!this.context.token) return this.props.history.push('/login')\n\n    const options = {\n      headers: {\n          'Authorization': 'Bearer ' + this.context.token\n      }\n    }\n\n    fetch(this.context.API_URL + '/jobs', options)\n      .then(data => data.json())\n      .then(data => {\n        if (!data.message)\n          this.setState({ jobs: data })\n        else\n          this.setState({ error: data.message })\n      })\n      .catch(err => console.log(err))\n  }\n\n  render() {\n    const { jobs, error } = this.state\n    return (\n      <div className=\"container\">\n        <NavLink\n          className=\"button is-inverted is-info\"\n          style={{marginBottom: '15px'}}\n          to='/jobs/add'>\n          Add Training Request\n        </NavLink>\n\n        {jobs && jobs.length > 0 && !error && <JobsList jobs={jobs} />}\n\n        {jobs && jobs.length <= 0 && <div className=\"box\">No jobs yet</div>}\n\n        {error && <Notification message={error} />}\n      </div>\n    )\n  }\n\n}\n\nexport default JobsPage"]},"metadata":{},"sourceType":"module"}