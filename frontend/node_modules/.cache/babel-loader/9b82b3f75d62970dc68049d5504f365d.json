{"ast":null,"code":"var _jsxFileName = \"/home/lfx/Downloads/BrainJobs/frontend/src/pages/users/UserPage.js\";\nimport React from 'react';\nimport UserDetails from '../../components/User/UserDetails/UserDetails';\nimport Notification from '../../components/Notification/Notification';\nimport Context from '../../context/Context';\n\nclass UserPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      error: null\n    };\n  }\n\n  componentWillMount() {\n    if (!this.context.token) return this.props.history.push('/login');\n    const id = this.props.match.params.id;\n    const options = {\n      headers: {\n        'Authorization': 'Bearer ' + this.context.token\n      }\n    };\n    fetch(this.context.API_URL + '/users/' + id, options).then(data => data.json()).then(data => {\n      if (!data.message) this.setState({\n        user: data\n      });else this.setState({\n        error: data.message\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    const _this$state = this.state,\n          user = _this$state.user,\n          error = _this$state.error;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, !error && user && React.createElement(UserDetails, {\n      key: user.id,\n      user: user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), error && React.createElement(Notification, {\n      message: error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }));\n  }\n\n}\n\nUserPage.contextType = Context;\nexport default UserPage;","map":{"version":3,"sources":["/home/lfx/Downloads/BrainJobs/frontend/src/pages/users/UserPage.js"],"names":["React","UserDetails","Notification","Context","UserPage","Component","constructor","props","state","user","error","componentWillMount","context","token","history","push","id","match","params","options","headers","fetch","API_URL","then","data","json","message","setState","catch","err","console","log","render","contextType"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,WAAP,MAAwB,+CAAxB;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AAEA,OAAOC,OAAP,MAAoB,uBAApB;;AAKA,MAAMC,QAAN,SAAuBJ,KAAK,CAACK,SAA7B,CAAuC;AAIrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,IADK;AAEXC,MAAAA,KAAK,EAAE;AAFI,KAAb;AAID;;AAEDC,EAAAA,kBAAkB,GAAG;AACnB,QAAI,CAAC,KAAKC,OAAL,CAAaC,KAAlB,EAAyB,OAAO,KAAKN,KAAL,CAAWO,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,CAAP;AADN,UAGXC,EAHW,GAGJ,KAAKT,KAAL,CAAWU,KAAX,CAAiBC,MAHb,CAGXF,EAHW;AAInB,UAAMG,OAAO,GAAG;AACdC,MAAAA,OAAO,EAAE;AACP,yBAAiB,YAAY,KAAKR,OAAL,CAAaC;AADnC;AADK,KAAhB;AAKAQ,IAAAA,KAAK,CAAC,KAAKT,OAAL,CAAaU,OAAb,GAAuB,SAAvB,GAAmCN,EAApC,EAAwCG,OAAxC,CAAL,CACGI,IADH,CACQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADhB,EAEGF,IAFH,CAEQC,IAAI,IAAI;AACZ,UAAI,CAACA,IAAI,CAACE,OAAV,EACE,KAAKC,QAAL,CAAc;AAAClB,QAAAA,IAAI,EAAEe;AAAP,OAAd,EADF,KAGE,KAAKG,QAAL,CAAc;AAACjB,QAAAA,KAAK,EAAEc,IAAI,CAACE;AAAb,OAAd;AACH,KAPH,EAQGE,KARH,CAQSC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CARhB;AASD;;AAEDG,EAAAA,MAAM,GAAG;AAAA,wBACiB,KAAKxB,KADtB;AAAA,UACCC,IADD,eACCA,IADD;AAAA,UACOC,KADP,eACOA,KADP;AAEP,WACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAACA,KAAD,IAAUD,IAAV,IAAkB,oBAAC,WAAD;AAAa,MAAA,GAAG,EAAEA,IAAI,CAACO,EAAvB;AAA2B,MAAA,IAAI,EAAEP,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADrB,EAEGC,KAAK,IAAI,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAEA,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFZ,CADF;AAMD;;AAxCoC;;AAAjCN,Q,CAEG6B,W,GAAc9B,O;AAyCvB,eAAeC,QAAf","sourcesContent":["import React from 'react'\n\nimport UserDetails from '../../components/User/UserDetails/UserDetails'\nimport Notification from '../../components/Notification/Notification'\n\nimport Context from '../../context/Context'\n\n\n\n\nclass UserPage extends React.Component {\n\n  static contextType = Context\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      user: null,\n      error: null\n    }\n  }\n\n  componentWillMount() {\n    if (!this.context.token) return this.props.history.push('/login')\n\n    const { id } = this.props.match.params\n    const options = {\n      headers: {\n        'Authorization': 'Bearer ' + this.context.token\n      }\n    }\n    fetch(this.context.API_URL + '/users/' + id, options)\n      .then(data => data.json())\n      .then(data => {\n        if (!data.message)\n          this.setState({user: data})\n        else\n          this.setState({error: data.message})\n      })\n      .catch(err => console.log(err))\n  }\n\n  render() {\n    const { user, error } = this.state\n    return (\n      <div className=\"container\">\n        {!error && user && <UserDetails key={user.id} user={user} />}\n        {error && <Notification message={error} />}\n      </div>\n    )\n  }\n}\n\nexport default UserPage"]},"metadata":{},"sourceType":"module"}