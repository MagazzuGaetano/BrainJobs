{"ast":null,"code":"var _jsxFileName = \"/home/lfx/Downloads/BrainJobs/frontend/src/pages/jobs/JobPage.js\";\nimport React from 'react';\nimport JobDetails from '../../components/Job/JobDetails/JobDetails';\nimport Notification from '../../components/Notification/Notification';\nimport Context from '../../context/Context';\n\nclass JobPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      job: null,\n      error: null\n    };\n  }\n\n  componentWillMount() {\n    if (!this.context.token) return this.props.history.push('/login');\n    const id = this.props.match.params.id;\n    const options = {\n      headers: {\n        'Authorization': 'Bearer ' + this.context.token\n      }\n    };\n    fetch(this.context.API_URL + '/jobs/' + id, options).then(data => data.json()).then(data => {\n      if (!data.message) this.setState({\n        job: data\n      });else this.setState({\n        error: data.message\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    const _this$state = this.state,\n          job = _this$state.job,\n          error = _this$state.error;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, !error && job && React.createElement(JobDetails, {\n      key: job.job_id,\n      job: job,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), error && React.createElement(Notification, {\n      message: error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }));\n  }\n\n}\n\nJobPage.contextType = Context;\nexport default JobPage;","map":{"version":3,"sources":["/home/lfx/Downloads/BrainJobs/frontend/src/pages/jobs/JobPage.js"],"names":["React","JobDetails","Notification","Context","JobPage","Component","constructor","props","state","job","error","componentWillMount","context","token","history","push","id","match","params","options","headers","fetch","API_URL","then","data","json","message","setState","catch","err","console","log","render","job_id","contextType"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,UAAP,MAAuB,4CAAvB;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AAEA,OAAOC,OAAP,MAAoB,uBAApB;;AAGA,MAAMC,OAAN,SAAsBJ,KAAK,CAACK,SAA5B,CAAsC;AAIpCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,GAAG,EAAE,IADM;AAEXC,MAAAA,KAAK,EAAE;AAFI,KAAb;AAID;;AAEDC,EAAAA,kBAAkB,GAAG;AACnB,QAAI,CAAC,KAAKC,OAAL,CAAaC,KAAlB,EAAyB,OAAO,KAAKN,KAAL,CAAWO,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,CAAP;AADN,UAGXC,EAHW,GAGJ,KAAKT,KAAL,CAAWU,KAAX,CAAiBC,MAHb,CAGXF,EAHW;AAInB,UAAMG,OAAO,GAAG;AACdC,MAAAA,OAAO,EAAE;AACP,yBAAiB,YAAY,KAAKR,OAAL,CAAaC;AADnC;AADK,KAAhB;AAKAQ,IAAAA,KAAK,CAAC,KAAKT,OAAL,CAAaU,OAAb,GAAuB,QAAvB,GAAkCN,EAAnC,EAAuCG,OAAvC,CAAL,CACGI,IADH,CACQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADhB,EAEGF,IAFH,CAEQC,IAAI,IAAI;AACZ,UAAI,CAACA,IAAI,CAACE,OAAV,EACE,KAAKC,QAAL,CAAc;AAAClB,QAAAA,GAAG,EAAEe;AAAN,OAAd,EADF,KAGE,KAAKG,QAAL,CAAc;AAACjB,QAAAA,KAAK,EAAEc,IAAI,CAACE;AAAb,OAAd;AACH,KAPH,EAQGE,KARH,CAQSC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CARhB;AASD;;AAEDG,EAAAA,MAAM,GAAG;AAAA,wBACgB,KAAKxB,KADrB;AAAA,UACCC,GADD,eACCA,GADD;AAAA,UACMC,KADN,eACMA,KADN;AAEP,WACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAACA,KAAD,IAAUD,GAAV,IAAiB,oBAAC,UAAD;AAAY,MAAA,GAAG,EAAEA,GAAG,CAACwB,MAArB;AAA6B,MAAA,GAAG,EAAExB,GAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADpB,EAEGC,KAAK,IAAI,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAEA,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFZ,CADF;AAMD;;AAxCmC;;AAAhCN,O,CAEG8B,W,GAAc/B,O;AA0CvB,eAAeC,OAAf","sourcesContent":["import React from 'react'\n\nimport JobDetails from '../../components/Job/JobDetails/JobDetails'\nimport Notification from '../../components/Notification/Notification'\n\nimport Context from '../../context/Context'\n\n\nclass JobPage extends React.Component {\n\n  static contextType = Context\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      job: null,\n      error: null\n    }\n  }\n\n  componentWillMount() {\n    if (!this.context.token) return this.props.history.push('/login')\n\n    const { id } = this.props.match.params\n    const options = {\n      headers: {\n        'Authorization': 'Bearer ' + this.context.token\n      }\n    }\n    fetch(this.context.API_URL + '/jobs/' + id, options)\n      .then(data => data.json())\n      .then(data => {\n        if (!data.message) \n          this.setState({job: data})\n        else \n          this.setState({error: data.message})\n      })\n      .catch(err => console.log(err))\n  }\n\n  render() {\n    const { job, error } = this.state\n    return (\n      <div className=\"container\">\n        {!error && job && <JobDetails key={job.job_id} job={job}/>}\n        {error && <Notification message={error} />}\n      </div>\n    )\n  }\n\n}\n\nexport default JobPage"]},"metadata":{},"sourceType":"module"}